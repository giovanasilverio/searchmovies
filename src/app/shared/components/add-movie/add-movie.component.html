<div class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50" id="createCategoryModal">
  <div class="bg-white text-black rounded-lg shadow-lg w-full max-w-2xl">
    <div class="px-4 py-3 border-b border-gray-200 flex justify-between items-center">
      <h5 class="modal-title" id="createCategoryModalLabel">Adicionar Filme</h5>
      <button class="text-red-600 text-xl" (click)="onClose()">&times;</button>
    </div>

    <div class="p-4">
      <form [formGroup]="movieForm" (ngSubmit)="onSubmit()">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <!-- Imagem -->
          <div class="flex flex-col justify-center items-center mb-4">
            <div class="img-placeholder">
              <img [src]="previewUrl || '../../../../assets/icons/movie.png'" alt="Imagem">
            </div>
            <label class="inserir-imagem text-black-300 cursor-pointer hover:underline mt-2" for="photo">
              Inserir Imagem
            </label>
            <input
              type="file"
              accept=".png, .jpg, .jpeg"
              id="photo"
              class="hidden"
              (change)="onFileSelected($event)"
            >
          </div>
          
          <div>
            <!-- Nome -->
            <div class="mb-4">
              <label for="title" class="block text-sm font-medium">Nome</label>
              <input
                type="text"
                id="title"
                formControlName="name"
                placeholder="Nome"
                class="input-field"
                required
              />
            </div>


            <!-- Análise -->
            <div class="mb-4">
              <label for="description" class="block text-sm font-medium">Análise</label>
              <textarea
                id="description"
                placeholder="Análise"
                formControlName="analisys"
                class="input-field"
              ></textarea>
            </div>
          </div>
        </div>

        <!-- Aviso de modo manual, opcional -->
        <div *ngIf="omdbNotFound" class="mb-2 text-sm text-red-600">
          Filme não encontrado na OMDb. Preencha os dados manualmente e clique em "Adicionar" novamente.
        </div>

        <!-- Botão -->
        <div class="flex justify-end border-t border-gray-200 pt-3 space-x-2">
          <button
            type="submit"
            class="btn-primary"
            [disabled]="movieForm.invalid || isSaving"
          >
            {{ isSaving ? 'Adicionando...' : 'Adicionar' }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
